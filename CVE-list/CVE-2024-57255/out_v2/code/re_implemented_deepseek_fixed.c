

struct squashfs_symlink_inode {
    unsigned long symlink_size;
    const char *symlink;
};

unsigned long le32toh(unsigned long value) {
    return value;
}

char *sqfs_get_abs_path(const char *base_path, const char *target_path) {
    return 0;
}

static char *sqfs_resolve_symlink(struct squashfs_symlink_inode *sym,
                                  const char *base_path) {
    char *target_path = 0;
    unsigned long sym_len = le32toh(sym->symlink_size);

    target_path = malloc(sym_len + 1);
    if (!target_path)
        return 0;

    memcpy(target_path, sym->symlink, sym_len);
    target_path[sym_len] = '\0';

    char *absolute_path = sqfs_get_abs_path(base_path, target_path);

    free(target_path);

    return absolute_path;
}

void *malloc(unsigned long);
void free(void *);
void *memcpy(void *, const void *, unsigned long);

