

typedef unsigned int u32;

struct spinlock_t {};

struct generic_pm_domain {
    const char *name;
    int (*power_on)(struct generic_pm_domain *genpd);
    int (*power_off)(struct generic_pm_domain *genpd);
};

struct mmp_pm_domain {
    void *reg;
    u32 power_on;
    u32 reset;
    u32 clock_enable;
    unsigned int flags;
    struct spinlock_t *lock;
    struct generic_pm_domain genpd;
};

static int mmp_pmd_power_on(struct generic_pm_domain *genpd)
{
    return 0;
}

static int mmp_pmd_power_off(struct generic_pm_domain *genpd)
{
    return 0;
}

struct generic_pm_domain *mmp_pm_domain_register(const char *name,
        void *reg,
        u32 power_on, u32 reset, u32 clock_enable,
        unsigned int flags, struct spinlock_t *lock)
{
    struct mmp_pm_domain *pm_domain = (struct mmp_pm_domain *)0;

    if (!pm_domain)
        return (struct generic_pm_domain *)0;

    pm_domain->reg = reg;
    pm_domain->power_on = power_on;
    pm_domain->reset = reset;
    pm_domain->clock_enable = clock_enable;
    pm_domain->flags = flags;
    pm_domain->lock = lock;

    pm_domain->genpd.name = name;
    pm_domain->genpd.power_on = &mmp_pmd_power_on;
    pm_domain->genpd.power_off = &mmp_pmd_power_off;

    return &pm_domain->genpd;
}

