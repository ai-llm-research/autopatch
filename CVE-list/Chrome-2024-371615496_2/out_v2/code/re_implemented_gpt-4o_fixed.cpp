
#include <cstdint>
#include <cstdlib>

enum FilterMode {
  kFilterNone,
  kFilterBilinear,
  kFilterBox
};

int RGBScale(const uint8_t* src_rgb,
             int src_stride_rgb,
             int src_width,
             int src_height,
             uint8_t* dst_rgb,
             int dst_stride_rgb,
             int dst_width,
             int dst_height,
             enum FilterMode filtering) {
  // Declare an integer for the return value of operations
  int result = 0;

  // Calculate the size needed for the source ARGB buffer
  const size_t src_argb_size = static_cast<size_t>(src_width) * abs(src_height) * 4;

  // Calculate the size needed for the destination ARGB buffer
  const size_t dst_argb_size = static_cast<size_t>(dst_width) * abs(dst_height) * 4;

  // Check if combined size exceeds maximum allowable value, indicating invalid input sizes
  if (src_argb_size + dst_argb_size > (1 << 30)) {
    return -1; // Invalid size.
  }
  
  return result;
}
