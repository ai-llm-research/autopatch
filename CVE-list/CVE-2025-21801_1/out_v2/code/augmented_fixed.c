
struct device {};
struct net_device {};
struct ravb_private {
    int wol_enabled;
    struct {
        struct {
            int dev;
        } *pdev;
    };
    struct {
        int rstc;
    } *rstc;
};

int dev_get_drvdata(struct device *resource) {
    return 0;
}

struct ravb_private* netdev_priv(struct net_device *net_resource) {
    return 0;
}

int netif_running(struct net_device *net_resource) {
    return 0;
}

void netif_device_detach(struct net_device *net_resource) {}

int ravb_wol_setup(struct net_device *net_resource) {
    return 0;
}

int ravb_close(struct net_device *net_resource) {
    return 0;
}

int pm_runtime_force_suspend(int *dev) {
    return 0;
}

int reset_control_assert(int rstc) {
    return 0;
}

static int ravb_suspend(struct device *resource) {
    struct net_device *net_resource = (struct net_device *)(long)dev_get_drvdata(resource);
    struct ravb_private *private_data = netdev_priv(net_resource);
    int error_code;

    if (!netif_running(net_resource))
        goto reset_assert;

    netif_device_detach(net_resource);

    if (private_data->wol_enabled)
        return ravb_wol_setup(net_resource);

    error_code = ravb_close(net_resource);
    if (error_code)
        return error_code;

    error_code = pm_runtime_force_suspend(&private_data->pdev->dev);
    if (error_code)
        return error_code;

reset_assert:
    return reset_control_assert(private_data->rstc->rstc);
}
