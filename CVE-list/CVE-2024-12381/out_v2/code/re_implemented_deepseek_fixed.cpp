
struct ValueType {
    int kind;
    int index;
    
    int Kind() const {
        return kind;
    }
    
    bool HasIndex() const {
        return index != -1;
    }
    
    int RefIndex() const {
        return index;
    }
    
    bool operator==(const ValueType& other) const {
        return kind == other.kind && index == other.index;
    }
};

bool EqualTypeIndex(int index1, int index2) {
    return index1 == index2;
}

bool EqualValueType(const ValueType& type1, const ValueType& type2) {
    // Check if the kinds of the two value types are different
    if (type1.Kind() != type2.Kind()) return false;

    // If both types have an index, compare their type indices for equality
    if (type1.HasIndex() && type2.HasIndex()) {
        return EqualTypeIndex(type1.RefIndex(), type2.RefIndex());
    }

    // If the kinds are the same and indices (if any) are equal, return true
    return !type1.HasIndex() || type1 == type2;
}
