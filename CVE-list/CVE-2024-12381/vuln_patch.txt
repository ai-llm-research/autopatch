```cpp
bool EqualValueType(ValueType type1, ValueType type2) const {
  if (type1.kind() != type2.kind()) return false;
  const bool indexed = type1.has_index();
  if (indexed != type2.has_index()) return false;
  if (indexed) {
	return EqualTypeIndex(CanonicalTypeIndex{type1.ref_index()},
						  CanonicalTypeIndex{type2.ref_index()});
  }
  const bool is_ref = type1.is_object_reference();
  DCHECK_EQ(is_ref, type2.is_object_reference());
  if (is_ref &&
	  type1.heap_representation() != type2.heap_representation()) {
	return false;
  }
  return true;
}
```