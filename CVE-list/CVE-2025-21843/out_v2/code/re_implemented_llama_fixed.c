

struct drm_file {
    // Stub struct as placeholder
};

struct drm_panthor_group_priorities_info {
    unsigned long allowed_mask; 
};

enum {
    PANTHOR_GROUP_PRIORITY_REALTIME,
    PANTHOR_GROUP_PRIORITY_LOW
};

static void memset(void* ptr, int value, unsigned long num) {
    // Stub implementation
}

unsigned long BIT(unsigned long prio) {
    // Stub implementation
    return 1UL << prio;
}

int group_priority_permit(struct drm_file* file, unsigned long prio) {
    // Stub implementation
    return 0;
}

static void panthor_query_group_priorities_info(struct drm_file *file,
                                                struct drm_panthor_group_priorities_info *arg) {
    unsigned long prio;

    memset(arg, 0, sizeof(*arg));

    for (prio = PANTHOR_GROUP_PRIORITY_REALTIME; prio >= PANTHOR_GROUP_PRIORITY_LOW; --prio) {
        if (!group_priority_permit(file, prio))
            arg->allowed_mask |= BIT(prio);
    }
}

