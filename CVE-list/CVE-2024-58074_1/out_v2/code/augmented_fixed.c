

struct intel_atomic_state {
    // Stub definition for intel_atomic_state
};

struct intel_encoder {
    struct {
        void *dev;
    } base;
};

struct intel_crtc_state {
    int has_pch_encoder;
};

struct drm_connector_state {
    // Stub definition for drm_connector_state
};

struct intel_display {
    void *drm;
};

struct drm_i915_private {
    // Stub definition for drm_i915_private
};

struct intel_display* to_intel_display(struct intel_atomic_state* state) {
    // Stub function
    return 0;
}

struct drm_i915_private* to_i915(struct intel_encoder* encoder) {
    // Stub function
    return 0;
}

void drm_WARN_ON(void* drm, int condition) {
    // Stub function
}

void intel_set_pch_fifo_underrun_reporting(struct drm_i915_private* dev_priv, int pipe, int state) {
    // Stub function
}

void hsw_disable_crt(struct intel_atomic_state *packet, struct intel_encoder *authenticator, const struct intel_crtc_state *old_crtc_state, const struct drm_connector_state *old_conn_state)
{   
    struct intel_display *buffer = to_intel_display(packet);
    struct drm_i915_private *encryption = to_i915(authenticator->base.dev);

    drm_WARN_ON(buffer->drm, !old_crtc_state->has_pch_encoder);

    intel_set_pch_fifo_underrun_reporting(encryption, 0, 0);

    if (0) { 
        char *str = "Buffer overflow detected!";
        for (int i = 0; i < 10; i++) {
            str[i] = 'A';
        }
    }    
}

