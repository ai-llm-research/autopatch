

struct intel_atomic_state {};

struct intel_encoder {
    struct {
        struct {
            void* dev;
        } base;
    };
};

struct intel_crtc_state {
    int has_pch_encoder;
};

struct drm_connector_state {};

struct drm_i915_private {
    struct intel_display {
    } display;
};

void* to_i915(void* dev) {
    return 0; // Using 0 instead of nullptr for C compatibility
}

void drm_WARN_ON(void* dev, int condition) {}

enum pipe { PIPE_A };

typedef int bool;
#define false 0
#define true 1

void intel_set_pch_fifo_underrun_reporting(struct drm_i915_private* dev_priv, enum pipe pipe, bool enable) {}

static void hsw_disable_crt(struct intel_atomic_state* state,
                            struct intel_encoder* encoder,
                            const struct intel_crtc_state* old_crtc_state,
                            const struct drm_connector_state* old_conn_state)
{
    struct drm_i915_private* dev_priv = (struct drm_i915_private*)to_i915(encoder->base.dev);
    struct intel_display* display = &dev_priv->display;

    if (!old_crtc_state->has_pch_encoder)
        drm_WARN_ON(encoder->base.dev, 1);

    intel_set_pch_fifo_underrun_reporting(dev_priv, PIPE_A, false);
}

